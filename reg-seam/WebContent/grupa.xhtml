<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">

	<ui:define name="body">
		<h:panelGrid columns="2">
			<h:outputText value="Nazwa przedmiotu: " />
			<h:outputText value="#{grupaHome.instance.przedmiot}" />
			<h:outputText value="Numer grupy: " />
			<h:outputText value="#{grupaHome.instance.numerGrupy}" />
			<h:outputText value="Czas: " />
			<h:outputText
				value="od #{grupaHome.instance.godzinaStart} do #{grupaHome.instance.godzinaStop}" />
			<h:outputText value="Numer grupy: " />
			<h:outputText value="#{grupaHome.instance.dzien}" />
			<h:outputText value="Wykładowca: " />
			<h:outputText
				value="#{grupaHome.instance.wykladowca.tytul} #{grupaHome.instance.wykladowca.imie} #{grupaHome.instance.wykladowca.nazwisko}" />
			<h:outputText value="Lista obecności: " />

			<h:outputText value="Otwarta" rendered="#{grupaHome.instance.open}" />
			<h:outputText value="Zamknięta"
				rendered="#{!grupaHome.instance.open}" />

			<div id="obecności"> <h:outputText value="" rendered="#{!grupaHome.instance.open}" /></div>

		</h:panelGrid>
		<div><h:outputText value=""
			rendered="#{!grupaHome.instance.open}" /> <s:button id="obecnosci"
			view="/ListaObecnosciGrupyList.xhtml" value="Obecności"
			propagation="none">
			<f:param name="grupaId" value="#{grupaHome.instance.id}" />
		</s:button></div>
		<div id="space"><p> </p></div>

		<h:panelGrid columns="1">
			<rich:panel>
				<h:form id="grupaViewFormS">
					<!-- <div class="results"><h:outputText
						value="Nie ma żadnych studentów"
						rendered="#{empty grupaHome.instance.studenci}" /> <rich:dataTable
						id="grupaStudentList" var="student"
						value="#{grupaHome.instance.studenci}" rows="15" reRender="dsS"
						rendered="#{not empty grupaHome.instance.studenci}"
						style=" width : 669px;">
						<f:facet name="header">Obecność Studentów Grupy</f:facet>
						<rich:column sortBy="#{student.imie}">
							<f:facet name="header">
								<h:outputText value="Imię i Nazwisko" />
							</f:facet>
							<s:link id="studentIm" value="#{student.imie} #{student.nazwisko}" propagation="none"
								view="/student.xhtml"
								style="color: black; text-decoration: none;">
								<f:param name="studentId" value="#{student.id}" />
							</s:link>
						</rich:column>
			
								


						<f:facet name="footer">
							<rich:datascroller id="dsS" renderIfSinglePage="false"></rich:datascroller>
						</f:facet>
					</rich:dataTable></div>-->

					<table border="1">
					<tr><td><h:outputText value="Imię i Nazwisko" /></td>
					<c:forEach var="i" begin="1" end="15">
						<td><h:outputText value="${i}" /> </td>
					</c:forEach>
					</tr>
					<ui:repeat 
						value="#{grupaHome.instance.studenci}" var="student">
						<tr><td><h:outputText value="#{student.imie} #{student.nazwisko}" /></td>
					
								<ui:repeat value="#{grupaHome.instance.getObecnoscStudent(student.id)}" var="obecnosc">
									<td><h1><h:outputText style="color: green;" value="+" rendered="#{obecnosc.obecnosc eq 'Obecny'}" />
									<h:outputText style="color: red;" value="–" rendered="#{obecnosc.obecnosc eq 'nieobecny' and empty obecnosc.komentarz}" />
									<h:outputText style="color: green;" value="s" rendered="#{obecnosc.obecnosc eq 'nieobecny' and not empty obecnosc.komentarz and obecnosc.komentarz ne 'spóżnienie'}" />
									<h:outputText style="color: red;" value="u" rendered="#{obecnosc.obecnosc eq 'nieobecny' and not empty obecnosc.komentarz and obecnosc.komentarz eq 'ucieczka'}" />
									<h:outputText style="color: blue;" value="o" rendered="#{obecnosc.obecnosc eq 'nieobecny' and not empty obecnosc.komentarz and obecnosc.komentarz eq 'odrobione'}" />
									<h:outputText style="color: blue;" value="p" rendered="#{obecnosc.obecnosc eq 'nieobecny' and not empty obecnosc.komentarz and obecnosc.komentarz eq 'usprawiedliwiony'}" />
								</h1></td>
								</ui:repeat>
							
						</tr>
					</ui:repeat>
					</table>

				</h:form>
				<s:button id="addG"
					value="Dodaj/usuń grupę studentów" view="/addStudentGroup2.xhtml">
					<f:param name="grupaId" value="#{grupaHome.instance.id}" />
				</s:button> <s:button id="addS" value="Dodaj/usuń studenta"
					view="/addStudentGroup.xhtml">
					<f:param name="grupaId" value="#{grupaHome.instance.id}" />
				</s:button> 
			</rich:panel>
			<h:column>
				<div class="actionButtons">
				<s:button id="done" value="Edytuj grupę"
				view="/addGrupa.xhtml">
				<f:param name="grupaId" value="#{grupaHome.instance.id}" />
			</s:button><s:button id="back" value="Powrót" view="/grupaList.xhtml" /></div>
			</h:column>
		</h:panelGrid>
	</ui:define>

</ui:composition>
